/*! f2 - v2.0.0-alpha - 07-01-2021 - See below for copyright and license */

!function(exports){if(!exports.F2||exports.F2_TESTING_MODE){!function(e){var t,n=!1;"undefined"!=typeof document&&((t=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',n=!t.getElementsByTagName("link").length,t=void 0);var c={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:n?[1,"X<div>","</div>"]:[0,"",""]};c.td=c.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],c.option=c.optgroup=[1,'<select multiple="multiple">',"</select>"],c.thead=c.tbody=c.colgroup=c.caption=c.tfoot=[1,"<table>","</table>"],c.polyline=c.ellipse=c.polygon=c.circle=c.text=c.line=c.path=c.rect=c.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"],e.domify=function(e,t){if("string"!=typeof e)throw new TypeError("String expected, got "+typeof e);t=t||document;var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var r=n[1];if("body"==r)return(o=t.createElement("html")).innerHTML=e,o.removeChild(o.lastChild);var o,i=c[r]||c._default,a=i[0],s=i[1],l=i[2];for((o=t.createElement("div")).innerHTML=s+e+l;a--;)o=o.lastChild;if(o.firstChild==o.lastChild)return o.removeChild(o.firstChild);for(var p=t.createDocumentFragment();o.firstChild;)p.appendChild(o.removeChild(o.firstChild));return p}}("undefined"!=typeof process&&void 0!==process.title&&void 0!==exports?exports:window),function(){!function(e,t){if(0,void 0!==exports&&"undefined"!=typeof module)t(0,module);else{var n={exports:{}};t(0,n),e.fetchJsonp=n.exports}}(this,function(e,t){"use strict";var n=5e3,r="callback";function f(t){try{delete window[t]}catch(e){window[t]=void 0}}function u(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}t.exports=function(i){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=i,l=a.timeout||n,p=a.jsonpCallback||r,c=void 0;return new Promise(function(t,e){var n=a.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),r=p+"_"+n;window[n]=function(e){t({ok:!0,json:function(){return Promise.resolve(e)}}),c&&clearTimeout(c),u(r),f(n)},s+=-1===s.indexOf("?")?"?":"&";var o=document.createElement("script");o.setAttribute("src",""+s+p+"="+n),a.charset&&o.setAttribute("charset",a.charset),o.id=r,document.getElementsByTagName("head")[0].appendChild(o),c=setTimeout(function(){e(new Error("JSONP request to "+i+" timed out")),f(n),u(r),window[n]=function(){f(n)}},l),o.onerror=function(){e(new Error("JSONP request to "+i+" failed")),f(n),u(r),c&&clearTimeout(c)}})}}),window.fetchJsonp=this.fetchJsonp}(),function(){var E,r="__lodash_hash_undefined__",F=1,T=2,O=4,o=9007199254740991,S="[object Arguments]",e="[object Array]",n="[object AsyncFunction]",k="[object Boolean]",x="[object Date]",t="[object Error]",j="[object Function]",I="[object GeneratorFunction]",L="[object Map]",P="[object Number]",i="[object Null]",N="[object Object]",a="[object Promise]",s="[object Proxy]",R="[object RegExp]",D="[object Set]",H="[object String]",M="[object Symbol]",l="[object Undefined]",p="[object WeakMap]",$="[object ArrayBuffer]",B="[object DataView]",U="[object Float32Array]",z="[object Float64Array]",q="[object Int8Array]",Z="[object Int16Array]",G="[object Int32Array]",J="[object Uint8Array]",Y="[object Uint8ClampedArray]",V="[object Uint16Array]",K="[object Uint32Array]",W=/\w*$/,c=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,u={};u[U]=u[z]=u[q]=u[Z]=u[G]=u[J]=u[Y]=u[V]=u[K]=!0,u[S]=u[e]=u[$]=u[k]=u[B]=u[x]=u[t]=u[j]=u[L]=u[P]=u[N]=u[R]=u[D]=u[H]=u[p]=!1;var X={};X[S]=X[e]=X[$]=X[B]=X[k]=X[x]=X[U]=X[z]=X[q]=X[Z]=X[G]=X[L]=X[P]=X[N]=X[R]=X[D]=X[H]=X[M]=X[J]=X[Y]=X[V]=X[K]=!0,X[t]=X[j]=X[p]=!1;var d="object"==typeof global&&global&&global.Object===Object&&global,h="object"==typeof self&&self&&self.Object===Object&&self,_=d||h||Function("return this")(),g="object"==typeof exports&&exports&&!exports.nodeType&&exports,y=g&&"object"==typeof module&&module&&!module.nodeType&&module,v=y&&y.exports===g,m=v&&d.process,A=function(){try{return m&&m.binding&&m.binding("util")}catch(e){}}(),b=A&&A.isMap,C=A&&A.isSet,w=A&&A.isTypedArray;function Q(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function ee(t){return function(e){return t(e)}}function te(t,n){return function(e){return t(n(e))}}var ne,re=Array.prototype,oe=Function.prototype,ie=Object.prototype,ae=_["__core-js_shared__"],se=oe.toString,le=ie.hasOwnProperty,pe=(ne=/[^.]+$/.exec(ae&&ae.keys&&ae.keys.IE_PROTO||""))?"Symbol(src)_1."+ne:"",ce=ie.toString,fe=_._,ue=RegExp("^"+se.call(le).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),de=v?_.Buffer:E,he=_.Symbol,_e=_.Uint8Array,ge=de?de.allocUnsafe:E,ye=te(Object.getPrototypeOf,Object),ve=Object.create,me=ie.propertyIsEnumerable,Ae=re.splice,be=he?he.toStringTag:E,Ce=function(){try{var e=st(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),we=Object.getOwnPropertySymbols,Ee=de?de.isBuffer:E,Fe=te(Object.keys,Object),Te=st(_,"DataView"),Oe=st(_,"Map"),Se=st(_,"Promise"),ke=st(_,"Set"),xe=st(_,"WeakMap"),je=st(Object,"create"),Ie=dt(Te),Le=dt(Oe),Pe=dt(Se),Ne=dt(ke),Re=dt(xe),De=he?he.prototype:E,He=De?De.valueOf:E;function Me(){}var $e=function(e){if(!bt(e))return{};if(ve)return ve(e);Be.prototype=e;var t=new Be;return Be.prototype=E,t};function Be(){}function Ue(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ze(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ze(e){var t=this.__data__=new ze(e);this.size=t.size}function Ge(e,t){var n=gt(e),r=!n&&_t(e),o=!n&&!r&&vt(e),i=!n&&!r&&!o&&Ft(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var p in e)!t&&!le.call(e,p)||a&&("length"==p||o&&("offset"==p||"parent"==p)||i&&("buffer"==p||"byteLength"==p||"byteOffset"==p)||ft(p,l))||s.push(p);return s}function Je(e,t,n){var r=e[t];le.call(e,t)&&ht(r,n)&&(n!==E||t in e)||Ve(e,t,n)}function Ye(e,t){for(var n=e.length;n--;)if(ht(e[n][0],t))return n;return-1}function Ve(e,t,n){"__proto__"==t&&Ce?Ce(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ke(n,r,o,e,t,i){var a,s=r&F,l=r&T,p=r&O;if(o&&(a=t?o(n,e,t,i):o(n)),a!==E)return a;if(!bt(n))return n;var c,f,u,d,h,_,g,y,v,m=gt(n);if(m){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(n),!s)return function(e,t){var n=-1,r=e.length;t=t||Array(r);for(;++n<r;)t[n]=e[n];return t}(n,a)}else{var A=ct(n),b=A==j||A==I;if(vt(n))return function(e,t){if(t)return e.slice();var n=e.length,r=ge?ge(n):new e.constructor(n);return e.copy(r),r}(n,s);if(A==N||A==S||b&&!t){if(a=l||b?{}:"function"!=typeof(v=n).constructor||ut(v)?{}:$e(ye(v)),!s)return l?(y=h=n,_=(g=a)&&rt(y,Ot(y),g),rt(h,pt(h),_)):(d=c=n,f=(u=a)&&rt(d,Tt(d),u),rt(c,lt(c),f))}else{if(!X[A])return t?n:{};a=function(e,t,n){var r=e.constructor;switch(t){case $:return nt(e);case k:case x:return new r(+e);case B:return function(e,t){var n=t?nt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case U:case z:case q:case Z:case G:case J:case Y:case V:case K:return function(e,t){var n=t?nt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case L:return new r;case P:case H:return new r(e);case R:return function(e){var t=new e.constructor(e.source,W.exec(e));return t.lastIndex=e.lastIndex,t}(e);case D:return new r;case M:return function(e){return He?Object(He.call(e)):{}}(e)}}(n,A,s)}}var C=(i=i||new Ze).get(n);if(C)return C;if(i.set(n,a),Et(n))return n.forEach(function(e){a.add(Ke(e,r,o,e,n,i))}),a;if(wt(n))return n.forEach(function(e,t){a.set(t,Ke(e,r,o,t,n,i))}),a;var w=m?E:(p?l?it:ot:l?Ot:Tt)(n);return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););}(w||n,function(e,t){w&&(e=n[t=e]),Je(a,t,Ke(e,r,o,t,n,i))}),a}function We(e,t,n){var r=t(e);return gt(e)?r:Q(r,n(e))}function Xe(e){return null==e?e===E?l:i:be&&be in Object(e)?function(e){var t=le.call(e,be),n=e[be];try{e[be]=E;var r=!0}catch(e){}var o=ce.call(e);r&&(t?e[be]=n:delete e[be]);return o}(e):(t=e,ce.call(t));var t}function Qe(e){return Ct(e)&&Xe(e)==S}function et(e){var t;return bt(e)&&(t=e,!(pe&&pe in t))&&(mt(e)?ue:c).test(dt(e))}function tt(e){if(!bt(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=ut(e),n=[];for(var r in e)("constructor"!=r||!t&&le.call(e,r))&&n.push(r);return n}function nt(e){var t=new e.constructor(e.byteLength);return new _e(t).set(new _e(e)),t}function rt(e,t,n,r){var o=!n;n=n||{};for(var i=-1,a=t.length;++i<a;){var s=t[i],l=r?r(n[s],e[s],s,n,e):E;l===E&&(l=e[s]),(o?Ve:Je)(n,s,l)}return n}function ot(e){return We(e,Tt,lt)}function it(e){return We(e,Ot,pt)}function at(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function st(e,t){var n,r,o=(r=t,null==(n=e)?E:n[r]);return et(o)?o:E}Ue.prototype.clear=function(){this.__data__=je?je(null):{},this.size=0},Ue.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ue.prototype.get=function(e){var t=this.__data__;if(je){var n=t[e];return n===r?E:n}return le.call(t,e)?t[e]:E},Ue.prototype.has=function(e){var t=this.__data__;return je?t[e]!==E:le.call(t,e)},Ue.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=je&&t===E?r:t,this},ze.prototype.clear=function(){this.__data__=[],this.size=0},ze.prototype.delete=function(e){var t=this.__data__,n=Ye(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ae.call(t,n,1),--this.size,!0)},ze.prototype.get=function(e){var t=this.__data__,n=Ye(t,e);return n<0?E:t[n][1]},ze.prototype.has=function(e){return-1<Ye(this.__data__,e)},ze.prototype.set=function(e,t){var n=this.__data__,r=Ye(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},qe.prototype.clear=function(){this.size=0,this.__data__={hash:new Ue,map:new(Oe||ze),string:new Ue}},qe.prototype.delete=function(e){var t=at(this,e).delete(e);return this.size-=t?1:0,t},qe.prototype.get=function(e){return at(this,e).get(e)},qe.prototype.has=function(e){return at(this,e).has(e)},qe.prototype.set=function(e,t){var n=at(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ze.prototype.clear=function(){this.__data__=new ze,this.size=0},Ze.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ze.prototype.get=function(e){return this.__data__.get(e)},Ze.prototype.has=function(e){return this.__data__.has(e)},Ze.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ze){var r=n.__data__;if(!Oe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qe(r)}return n.set(e,t),this.size=n.size,this};var lt=we?function(t){return null==t?[]:(t=Object(t),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}(we(t),function(e){return me.call(t,e)}))}:St,pt=we?function(e){for(var t=[];e;)Q(t,lt(e)),e=ye(e);return t}:St,ct=Xe;function ft(e,t){var n=typeof e;return(t=null==t?o:t)&&("number"==n||"symbol"!=n&&f.test(e))&&-1<e&&e%1==0&&e<t}function ut(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ie)}function dt(e){if(null!=e){try{return se.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ht(e,t){return e===t||e!=e&&t!=t}(Te&&ct(new Te(new ArrayBuffer(1)))!=B||Oe&&ct(new Oe)!=L||Se&&ct(Se.resolve())!=a||ke&&ct(new ke)!=D||xe&&ct(new xe)!=p)&&(ct=function(e){var t=Xe(e),n=t==N?e.constructor:E,r=n?dt(n):"";if(r)switch(r){case Ie:return B;case Le:return L;case Pe:return a;case Ne:return D;case Re:return p}return t});var _t=Qe(function(){return arguments}())?Qe:function(e){return Ct(e)&&le.call(e,"callee")&&!me.call(e,"callee")},gt=Array.isArray;function yt(e){return null!=e&&At(e.length)&&!mt(e)}var vt=Ee||kt;function mt(e){if(!bt(e))return!1;var t=Xe(e);return t==j||t==I||t==n||t==s}function At(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=o}function bt(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ct(e){return null!=e&&"object"==typeof e}var wt=b?ee(b):function(e){return Ct(e)&&ct(e)==L},Et=C?ee(C):function(e){return Ct(e)&&ct(e)==D},Ft=w?ee(w):function(e){return Ct(e)&&At(e.length)&&!!u[Xe(e)]};function Tt(e){return(yt(e)?Ge:function(e){if(!ut(e))return Fe(e);var t=[];for(var n in Object(e))le.call(e,n)&&"constructor"!=n&&t.push(n);return t})(e)}function Ot(e){return yt(e)?Ge(e,!0):tt(e)}function St(){return[]}function kt(){return!1}Me.keys=Tt,Me.keysIn=Ot,Me.cloneDeep=function(e){return Ke(e,F|O)},Me.eq=ht,Me.isArguments=_t,Me.isArray=gt,Me.isArrayLike=yt,Me.isBuffer=vt,Me.isFunction=mt,Me.isLength=At,Me.isMap=wt,Me.isObject=bt,Me.isObjectLike=Ct,Me.isSet=Et,Me.isTypedArray=Ft,Me.stubArray=St,Me.stubFalse=kt,Me.noConflict=function(){return _._===this&&(_._=fe),this},Me.VERSION="4.17.5",_._=Me}.call(this);var _=window._.noConflict(),Th,Vh,F2,oj,ek,fk,gk,hk,jk,ll,ml,nl;Th="undefined"!=typeof process&&void 0!==process.title&&void 0!==exports?exports:window,Vh=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},Zh.prototype.delimiter=".",Zh.prototype.setMaxListeners=function(e){this._events||Xh.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e},Zh.prototype.event="",Zh.prototype.once=function(e,t){return this.many(e,1,t),this},Zh.prototype.many=function(e,t,n){var r=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function o(){0==--t&&r.off(e,o),n.apply(this,arguments)}return o._origin=n,this.on(e,o),r},Zh.prototype.emit=function(){this._events||Xh.call(this);var e,t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var n=arguments.length,r=new Array(n-1),o=1;o<n;o++)r[o-1]=arguments[o];for(o=0,n=this._all.length;o<n;o++)this.event=t,this._all[o].apply(this,r)}if("error"===t&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(this.wildcard){e=[];var i="string"==typeof t?t.split(this.delimiter):t.slice();$h.call(this,e,i,this.listenerTree,0)}else e=this._events[t];if("function"==typeof e){if(this.event=t,1===arguments.length)e.call(this);else if(1<arguments.length)switch(arguments.length){case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:for(n=arguments.length,r=new Array(n-1),o=1;o<n;o++)r[o-1]=arguments[o];e.apply(this,r)}return!0}if(e){for(n=arguments.length,r=new Array(n-1),o=1;o<n;o++)r[o-1]=arguments[o];var a=e.slice();for(o=0,n=a.length;o<n;o++)this.event=t,a[o].apply(this,r);return 0<a.length||this._all}return this._all},Zh.prototype.on=function(e,t){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");if(this._events||Xh.call(this),this.emit("newListener",e,t),this.wildcard)return function(e,t){for(var n=0,r=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;n+1<r;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var o=this.listenerTree,i=e.shift();i;){if(o[i]||(o[i]={}),o=o[i],0===e.length){if(o._listeners){if("function"==typeof o._listeners)o._listeners=[o._listeners,t];else if(Vh(o._listeners)&&(o._listeners.push(t),!o._listeners.warned)){var a=10;void 0!==this._events.maxListeners&&(a=this._events.maxListeners),0<a&&o._listeners.length>a&&(o._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",o._listeners.length),console.trace())}}else o._listeners=t;return!0}i=e.shift()}return!0}.call(this,e,t),this;if(this._events[e]){if("function"==typeof this._events[e])this._events[e]=[this._events[e],t];else if(Vh(this._events[e])&&(this._events[e].push(t),!this._events[e].warned)){var n=10;void 0!==this._events.maxListeners&&(n=this._events.maxListeners),0<n&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}}else this._events[e]=t;return this},Zh.prototype.onAny=function(e){if(this._all||(this._all=[]),"function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all.push(e),this},Zh.prototype.addListener=Zh.prototype.on,Zh.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();r=$h.call(this,null,o,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n})}for(var i=0;i<r.length;i++){var a=r[i];if(n=a._listeners,Vh(n)){for(var s=-1,l=0,p=n.length;l<p;l++)if(n[l]===t||n[l].listener&&n[l].listener===t||n[l]._origin&&n[l]._origin===t){s=l;break}if(s<0)continue;return this.wildcard?a._listeners.splice(s,1):this._events[e].splice(s,1),0===n.length&&(this.wildcard?delete a._listeners:delete this._events[e]),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete a._listeners:delete this._events[e])}return this},Zh.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&0<this._all.length){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this}else this._all=[];return this},Zh.prototype.removeListener=Zh.prototype.off,Zh.prototype.removeAllListeners=function(e){if(0===arguments.length)return this._events&&Xh.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=$h.call(this,null,t,this.listenerTree,0),r=0;r<n.length;r++){n[r]._listeners=null}else{if(!this._events[e])return this;this._events[e]=null}return this},Zh.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return $h.call(this,t,n,this.listenerTree,0),t}return this._events||Xh.call(this),this._events[e]||(this._events[e]=[]),Vh(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},Zh.prototype.listenersAny=function(){return this._all?this._all:[]},Th.EventEmitter2=Zh,oj=function(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null},F2={appConfigReplacer:function(e,t){return"root"==e||"ui"==e||"height"==e?void 0:t},Apps:{},extend:function(e,t,n){var r="function"==typeof t,o=e?e.split("."):[],i=this;t=t||{},"F2"===o[0]&&(o=o.slice(1));for(var a=0,s=o.length;a<s;a++)i[o[a]]||(i[o[a]]=r&&a+1==s?t:{}),i=i[o[a]];if(!r)for(var l in t)void 0!==i[l]&&!n||(i[l]=t[l]);return i},guid:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},isLocalRequest:function(e){var t,n,r=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,o=e.toLowerCase(),i=r.exec(o);try{t=location.href}catch(e){(t=document.createElement("a")).href="",t=t.href}return t=t.toLowerCase(),i||(o=nj(t,o).toLowerCase(),i=r.exec(o)),n=r.exec(t)||[],!(i&&(i[1]!==n[1]||i[2]!==n[2]||(i[3]||("http:"===i[1]?"80":"443"))!==(n[3]||("http:"===n[1]?"80":"443"))))},isNativeDOMNode:function(e){var t="object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName,n="object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName;return t||n},log:function(){function e(){}for(var t,n,r="log",o=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],i=o.length,a=window.console=window.console||{};i--;)a[t=o[i]]||(a[t]=e),arguments&&1<arguments.length&&arguments[0]==t&&(r=t,n=Array.prototype.slice.call(arguments,1));(Function.prototype.bind?Function.prototype.bind.call(a[r],a):function(){Function.prototype.apply.call(a[r],a,n||arguments)}).apply(this,n||arguments)},parse:function(e){return JSON.parse(e)},stringify:function(e,t,n){return JSON.stringify(e,t,n)},version:function(){return"2.0.0-alpha"}},F2.extend("AppHandlers",(ek=F2.guid(),fk=F2.guid(),gk={appManifestRequestFail:[],appCreateRoot:[],appRenderBefore:[],appDestroyBefore:[],appRenderAfter:[],appDestroyAfter:[],appRender:[],appDestroy:[],appScriptLoadFailed:[]},hk={appRender:function(e,t){F2.isNativeDOMNode(e.root)?e.root.appendChild(domify(t)):e.root=domify(t),document.body.appendChild(e.root)},appDestroy:function(e){e&&e.app&&e.app.destroy&&"function"==typeof e.app.destroy?e.app.destroy():e&&e.app&&e.app.destroy&&F2.log(e.config.appId+" has a destroy property, but destroy is not of type function and as such will not be executed."),e.config.root.parentNode.removeChild(e.config.root)}},jk=function(e){if(ek!=e&&fk!=e)throw"Invalid token passed. Please verify that you have correctly received and stored token from F2.AppHandlers.getToken()."},{getToken:function(){return delete this.getToken,ek},__f2GetToken:function(){return delete this.__f2GetToken,fk},__trigger:function(e,t){if(e!=fk)throw"Token passed is invalid. Only F2 is allowed to call F2.AppHandlers.__trigger().";if(!gk||!gk[t])throw"Invalid EventKey passed. Check your inputs and try again.";for(var n=[],r=2,o=arguments.length;r<o;r++)n.push(arguments[r]);if(0===gk[t].length&&hk[t])return hk[t].apply(F2,n),this;if(0===gk[t].length&&!gk[t])return this;for(var i=0,a=gk[t].length;i<a;i++){var s=gk[t][i];s.domNode&&arguments[2]&&arguments[2].root&&arguments[3]?(arguments[2].root.appendChild(domify(arguments[3])),s.domNode.appendChild(arguments[2].root)):s.domNode&&arguments[2]&&!arguments[2].root&&arguments[3]?(arguments[2].root=domify(arguments[3]),s.domNode.appendChild(arguments[2].root)):s.func.apply(F2,n)}return this},on:function(e,t,n){var r=null;if(!t)throw"eventKey must be of type string and not null. For available appHandlers check F2.Constants.AppHandlers.";if(-1<t.indexOf(".")){var o=t.split(".");t=o[0],r=o[1]}if(!gk||!gk[t])throw"Invalid EventKey passed. Check your inputs and try again.";return gk[t].push(function(e,t,n,r){jk(e);var o={func:n,namespace:t,domNode:F2.isNativeDOMNode(n)?n:null};if(!o.func&&!o.domNode)throw"Invalid or null argument passed. Handler will not be added to collection. A valid dom element or callback function is required.";if(o.domNode&&!r)throw"Invalid argument passed. Handler will not be added to collection. A callback function is required for this event type.";return o}(e,r,n,"appRender"==t)),this},off:function(e,t){var n=null;if(!t)throw"eventKey must be of type string and not null. For available appHandlers check F2.Constants.AppHandlers.";if(-1<t.indexOf(".")){var r=t.split(".");t=r[0],n=r[1]}if(!gk||!gk[t])throw"Invalid EventKey passed. Check your inputs and try again.";return function(e,t,n){if(jk(e),n||t)if(!n&&t)gk[t]=[];else if(n&&!t)for(var r in n=n.toLowerCase(),gk){for(var o=gk[r],i=[],a=0,s=o.length;a<s;a++){var l=o[a];l&&(l.namespace&&l.namespace.toLowerCase()==n||i.push(l))}o=i}else if(n&&gk[t]){n=n.toLowerCase();for(var p=[],c=0,f=gk[t].length;c<f;c++){var u=gk[t][c];u&&(u.namespace&&u.namespace.toLowerCase()==n||p.push(u))}gk[t]=p}}(e,t,n),this}})),F2.extend("Constants",{AppHandlers:{APP_MANIFEST_REQUEST_FAIL:"appManifestRequestFail",APP_CREATE_ROOT:"appCreateRoot",APP_RENDER_BEFORE:"appRenderBefore",APP_RENDER:"appRender",APP_RENDER_AFTER:"appRenderAfter",APP_DESTROY_BEFORE:"appDestroyBefore",APP_DESTROY:"appDestroy",APP_DESTROY_AFTER:"appDestroyAfter",APP_SCRIPT_LOAD_FAILED:"appScriptLoadFailed"}}),F2.extend("",{App:function(e,t,n){return{init:function(){},destroy:function(){}}},AppConfig:{appId:"",context:{},enableBatchRequests:!1,height:0,instanceId:"",containerLocale:null,localeSupport:[],manifestUrl:"",maxWidth:0,minGridSize:4,minWidth:300,name:"",root:void 0},AppManifest:{apps:[],inlineScripts:[],scripts:[],styles:[]},AppContent:{data:{},html:"",status:""},ContainerConfig:{debugMode:!1,locale:null,scriptErrorTimeout:7e3,xhr:{dataType:function(e,t){},type:function(e,t){},url:function(e,t){}},loadScripts:function(e,t,n){},loadStyles:function(e,t){}}}),F2.extend("Constants",{Css:{APP:"f2-app",APP_CONTAINER:"f2-app-container"},Events:(ll="App.",ml="Container.",{APP_SCRIPTS_LOADED:ll+"scriptsLoaded",APP_SYMBOL_CHANGE:ll+"symbolChange",APP_WIDTH_CHANGE:ll+"widthChange.",CONTAINER_SYMBOL_CHANGE:ml+"symbolChange",CONTAINER_WIDTH_CHANGE:ml+"widthChange",CONTAINER_LOCALE_CHANGE:ml+"localeChange",RESOURCE_FAILED_TO_LOAD:ml+"resourceFailedToLoad"}),JSONP_CALLBACK:"F2_jsonpCallback_",AppStatus:{ERROR:"ERROR",SUCCESS:"SUCCESS"}}),F2.extend("Events",(nl=new EventEmitter2({wildcard:!0}),nl.setMaxListeners(0),{emit:function(){return EventEmitter2.prototype.emit.apply(nl,[].slice.call(arguments))},many:function(e,t,n){return nl.many(e,t,n)},off:function(e,t){return nl.off(e,t)},on:function(e,t){return nl.on(e,t)},once:function(e,t){return nl.once(e,t)}})),F2.extend("",function(){var _apps={},_config=!1,_sAppHandlerToken=F2.AppHandlers.__f2GetToken(),_loadingScripts={},_inArray=function(e,t){if(Array.isArray(t))return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},_createAppConfig=function(e){return(e=_.cloneDeep(e)||{}).instanceId=e.instanceId||F2.guid(),F2.ContainerConfig.locale&&(e.containerLocale=F2.ContainerConfig.locale),e},_getAppConfigFromElement=function(e){var t;if(e){var n=e.getAttribute("data-f2-appid"),r=e.getAttribute("data-f2-manifesturl");if(n&&r){t={appId:n,enableBatchRequests:e.hasAttribute("data-f2-enablebatchrequests"),manifestUrl:r,root:e};var o=e.getAttribute("data-f2-context");if(o)try{t.context=F2.parse(o)}catch(e){console.warn('F2: "data-f2-context" of node is not valid JSON','"'+e+'"')}}}return t},_hasNonTextChildNodes=function(e){var t=!1;if(e.hasChildNodes())for(var n=0,r=e.childNodes.length;n<r;n++)if(1===e.childNodes[n].nodeType){t=!0;break}return t},_hydrateContainerConfig=function(e){e.scriptErrorTimeout||(e.scriptErrorTimeout=F2.ContainerConfig.scriptErrorTimeout),!0!==e.debugMode&&(e.debugMode=F2.ContainerConfig.debugMode),e.locale&&"string"==typeof e.locale&&(F2.ContainerConfig.locale=e.locale)},_initContainerEvents=function(){function e(){F2.Events.emit(F2.Constants.Events.CONTAINER_WIDTH_CHANGE)}var t;window.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(e,100)}),F2.Events.on(F2.Constants.Events.CONTAINER_LOCALE_CHANGE,function(e){e.locale&&"string"==typeof e.locale&&(F2.ContainerConfig.locale=e.locale)})},_isPlaceholderElement=function(e){return F2.isNativeDOMNode(e)&&!_hasNonTextChildNodes(e)&&!!e.getAttribute("data-f2-appid")&&!!e.getAttribute("data-f2-manifesturl")},_isInit=function(){return!!_config},_createAppInstance=function(e,t){void 0!==F2.Apps[e.appId]&&("function"==typeof F2.Apps[e.appId]?setTimeout(function(){_apps[e.instanceId].app=new F2.Apps[e.appId](e,t,e.root),void 0!==_apps[e.instanceId].app.init&&_apps[e.instanceId].app.init()},0):F2.log("app initialization class is defined but not a function. ("+e.appId+")"))},_loadApps=function(appConfigs,appManifest){if(appConfigs=[].concat(appConfigs),appConfigs.length==appManifest.apps.length){var _findExistingScripts=function(){for(var e=document.querySelectorAll("script[src]")||[],t=[],n=0;n<e.length;n++)t.push(e[n].src);return t},_findExistingStyles=function(){for(var e=[],t=document.querySelectorAll("link[href]")||[],n=0;n<t.length;n++)e.push(t[n].src);return e},_loadStyles=function(e,t){for(var n=_findExistingStyles(),r=[],o=0;o<e.length;o++){var i=e[o];i&&-1===_inArray(i,n)&&r.push(i)}if(_config.loadStyles)return _config.loadStyles(r,t);for(var a=null,s=!!document.createStyleSheet,l=0;l<r.length;l++)s?document.createStyleSheet(r[l]):(a=a||[]).push('<link rel="stylesheet" type="text/css" href="'+r[l]+'"/>');if(a){var p=domify(a.join(""));document.getElementsByTagName("head")[0].appendChild(p)}t()},_loadScripts=function(e,t){for(var n=_findExistingScripts(),r=Object.keys(_loadingScripts),o=[],i=0;i<e.length;i++){var a=e[i];!a||-1!==_inArray(a,n)&&-1===_inArray(a,r)||o.push(a)}if(_config.loadScripts)return _config.loadScripts(o,t);if(!o.length)return t();function s(t){setTimeout(function(){var e={src:t.target.src,appId:appConfigs[0].appId};F2.log("Script defined in '"+e.appId+"' failed to load '"+e.src+"'"),F2.Events.emit(F2.Constants.Events.RESOURCE_FAILED_TO_LOAD,e),F2.AppHandlers.__trigger(_sAppHandlerToken,F2.Constants.AppHandlers.APP_SCRIPT_LOAD_FAILED,appConfigs[0],e.src)},_config.scriptErrorTimeout)}function l(){++u===f&&t()}function p(e,t){var n,r=_loadingScripts[e];if(r){for(var o=0;o<r.length;o++)n=r[o],t?n.error(t):n.success();_loadingScripts[e]=null}}var c=window.document,f=o.length,u=0,d=c&&(c.head||c.getElementsByTagName("head")[0]),h=d&&d.getElementsByTagName("base")[0]||null,_="addEventListener"in window?{}:{loaded:!0,complete:!0};o.forEach(function(e,t){var n=c.createElement("script"),r=e,o=r.toLowerCase();_loadingScripts[o]?_loadingScripts[o].push({success:l,error:s}):(_loadingScripts[o]=[],_config.debugMode&&(r+="?cachebuster="+(new Date).getTime()),n.async=!1,n.type="text/javascript",n.charset="utf-8",n.onerror=function(e){s(e),p(o,e)},n.onload=n.onreadystatechange=function(e){"load"!=(e=e||window.event).type&&!_[n.readyState]||(n.onload=n.onreadystatechange=n.onerror="",l(),p(o),n=null)},n.src=r,d.insertBefore(n,h))})},_loadInlineScripts=function(inlines,cb){if(_config.loadInlineScripts)_config.loadInlineScripts(inlines,cb);else{for(var i=0,len=inlines.length;i<len;i++)try{eval(inlines[i])}catch(e){F2.log("Error loading inline script: "+e+"\n\n"+inlines[i]),F2.Events.emit("RESOURCE_FAILED_TO_LOAD",{appId:appConfigs[0].appId,src:inlines[i],err:e}),F2.AppHandlers.__trigger(_sAppHandlerToken,F2.Constants.AppHandlers.APP_SCRIPT_LOAD_FAILED,appConfigs[0],e)}cb()}},elementInDocument=function(e){if(e)for(;e.parentNode;)if((e=e.parentNode)===document)return!0;return!1},_loadHtml=function(e){e.forEach(function(e,t){if(_isPlaceholderElement(appConfigs[t].root)){var n=domify(e.html);n.classList.add(F2.Constants.Css.APP_CONTAINER),n.classList.add(appConfigs[t].appId),appConfigs[t].root.classList.add(F2.Constants.Css.APP),appConfigs[t].root.appendChild(n)}else{var r=document.createElement("div"),o=domify(e.html);o.classList.add(F2.Constants.Css.APP_CONTAINER),o.classList.add(appConfigs[t].appId),r.appendChild(o),F2.AppHandlers.__trigger(_sAppHandlerToken,F2.Constants.AppHandlers.APP_RENDER,appConfigs[t],r.innerHTML);var i=appConfigs[t].appId,a=appConfigs[t].root;if(!a)throw"Root for "+i+" must be a native DOM element and cannot be null or undefined. Check your AppHandler callbacks to ensure you have set App root to a native DOM element.";if(!elementInDocument(a))throw"App root for "+i+" was not appended to the DOM. Check your AppHandler callbacks to ensure you have rendered the app root to the DOM.";if(F2.AppHandlers.__trigger(_sAppHandlerToken,F2.Constants.AppHandlers.APP_RENDER_AFTER,appConfigs[t]),!F2.isNativeDOMNode(a))throw"App root for "+i+" must be a native DOM element. Check your AppHandler callbacks to ensure you have set app root to a native DOM element."}})},scripts=appManifest.scripts||[],styles=appManifest.styles||[],inlines=appManifest.inlineScripts||[],apps=appManifest.apps||[];_loadStyles(styles,function(){_loadHtml(apps),_loadScripts(scripts,function(){appConfigs[0]&&F2.Events.emit("APP_SCRIPTS_LOADED",{appId:appConfigs[0].appId,scripts:scripts}),_loadInlineScripts(inlines,function(){appConfigs.forEach(function(e,t){_createAppInstance(e,appManifest.apps[t])})})})})}else F2.log("The number of apps defined in the AppManifest do not match the number requested.",appManifest)},_validateApp=function(e){return e.appId?!(!e.root&&!e.manifestUrl)||(F2.log('"manifestUrl" missing from app object'),!1):(F2.log('"appId" missing from app object'),!1)},_validateContainerConfig=function(){if(_config&&_config.xhr){if("function"!=typeof _config.xhr&&"object"!=typeof _config.xhr)throw"ContainerConfig.xhr should be a function or an object";if(_config.xhr.dataType&&"function"!=typeof _config.xhr.dataType)throw"ContainerConfig.xhr.dataType should be a function";if(_config.xhr.type&&"function"!=typeof _config.xhr.type)throw"ContainerConfig.xhr.type should be a function";if(_config.xhr.url&&"function"!=typeof _config.xhr.url)throw"ContainerConfig.xhr.url should be a function"}return!0};return{getContainerState:function(){if(_isInit()){for(var e=[],t=0;t<_apps.length;t++)e.push({appId:_apps[t].config.appId});return e}F2.log("F2.init() must be called before F2.getContainerState()")},getContainerLocale:function(){if(_isInit())return F2.ContainerConfig.locale;F2.log("F2.init() must be called before F2.getContainerLocale()")},init:function(e){_config=e||{},_validateContainerConfig(),_hydrateContainerConfig(_config),_initContainerEvents()},isInit:_isInit,loadPlaceholders:function(e){function r(e){e&&t.push(e)}var t=[],n=[];if(e&&!F2.isNativeDOMNode(e))throw'"parentNode" must be null or a DOM node';e&&e.hasAttribute("data-f2-appid")?r(e):(e=e||document).querySelectorAll&&function(e){if(e)for(var t=0,n=e.length;t<n;t++)r(e[t])}(e.querySelectorAll("[data-f2-appid]"));for(var o=0,i=t.length;o<i;o++){var a=_getAppConfigFromElement(t[o]);n.push(a)}n.length&&F2.registerApps(n)},registerApps:function(e,n){if(_isInit())if(e){var r,o=[],i={},a={};if(e=[].concat(e),n=[].concat(n||[]),r=!!n.length,e.length){if(e.length&&r&&e.length!=n.length)F2.log('The length of "apps" does not equal the length of "appManifests"');else if(e.forEach(function(e,t){if((e=_createAppConfig(e)).root=e.root||null,_validateApp(e))if(_apps[e.instanceId]={config:e},!e.root||_isPlaceholderElement(e.root))_isPlaceholderElement(e.root)||(F2.AppHandlers.__trigger(_sAppHandlerToken,F2.Constants.AppHandlers.APP_CREATE_ROOT,e),F2.AppHandlers.__trigger(_sAppHandlerToken,F2.Constants.AppHandlers.APP_RENDER_BEFORE,e)),r?_loadApps(e,n[t]):e.enableBatchRequests?(i[e.manifestUrl.toLowerCase()]=i[e.manifestUrl.toLowerCase()]||[],i[e.manifestUrl.toLowerCase()].push(e)):o.push({apps:[e],url:e.manifestUrl});else{if(!e.root&&"string"!=typeof e.root&&!F2.isNativeDOMNode(e.root))throw F2.log("AppConfig invalid for pre-load, not a valid string and not dom node"),F2.log("AppConfig instance:",e),"Preloaded appConfig.root property must be a native dom node or a string representing a sizzle selector. Please check your inputs and try again.";_createAppInstance(e,{preloaded:!0,status:F2.Constants.AppStatus.SUCCESS})}}),!r){for(var t in i)o.push({url:t,apps:i[t]});for(var s in o.forEach(function(e,t){var n=F2.Constants.JSONP_CALLBACK+e.apps[0].appId;a[n]=a[n]||[],a[n].push(e)}),a){var u=a[s],d=function(l,p){if(p){var e=p.url,c="GET",f="jsonp";if(_config.xhr&&_config.xhr.dataType&&"string"!=typeof(f=_config.xhr.dataType(p.url,p.apps)))throw"ContainerConfig.xhr.dataType should return a string";if(_config.xhr&&_config.xhr.type&&"string"!=typeof(c=_config.xhr.type(p.url,p.apps)))throw"ContainerConfig.xhr.type should return a string";if(_config.xhr&&_config.xhr.url&&"string"!=typeof(e=_config.xhr.url(p.url,p.apps)))throw"ContainerConfig.xhr.url should return a string";var t=_config.xhr;"function"!=typeof t&&(t=function(e,t,n,r,o){if(!window.fetch)throw"Browser does not support the Fetch API.";var i,a=e+"?params="+F2.stringify(p.apps,F2.appConfigReplacer);if("json"===f){var s={method:c,mode:"no-cors"};"POST"===c&&(a=e,s.body={params:F2.stringify(p.apps,F2.appConfigReplacer)}),i=fetch(a,s)}else"jsonp"===f&&(i=fetchJsonp(a,{timeout:3e3,jsonpCallbackFunction:l}));i.then(function(e){return e.json()}).then(function(e){n(e),o()}).catch(function(e){F2.log("Failed to load app(s)",e,p.apps),r()})}),t(e,p.apps,function(e){_loadApps(p.apps,e)},function(){p.apps.forEach(function(e,t){e.name=e.name||e.appId,F2.log("Removed failed "+e.name+" app",e),F2.AppHandlers.__trigger(_sAppHandlerToken,F2.Constants.AppHandlers.APP_MANIFEST_REQUEST_FAIL,e),F2.removeApp(e.instanceId)})},function(){d(s,u.pop())})}};d(s,u.pop())}}}else F2.log("At least one AppConfig must be passed when calling F2.registerApps()")}else F2.log("At least one AppConfig must be passed when calling F2.registerApps()");else F2.log("F2.init() must be called before F2.registerApps()")},removeAllApps:function(){_isInit()?0<Object.keys(_apps).length&&Object.keys(_apps).forEach(function(e){F2.removeApp(_apps[e].config.instanceId)}):F2.log("F2.init() must be called before F2.removeAllApps()")},removeApp:function(e){_isInit()?_apps[e]&&(F2.AppHandlers.__trigger(_sAppHandlerToken,F2.Constants.AppHandlers.APP_DESTROY_BEFORE,_apps[e]),F2.AppHandlers.__trigger(_sAppHandlerToken,F2.Constants.AppHandlers.APP_DESTROY,_apps[e]),F2.AppHandlers.__trigger(_sAppHandlerToken,F2.Constants.AppHandlers.APP_DESTROY_AFTER,_apps[e]),delete _apps[e]):F2.log("F2.init() must be called before F2.removeApp()")}}}());var callback=function(){function r(e){e&&t.push(e)}function e(e){if(e)for(var t=0,n=e.length;t<n;t++)r(e[t])}var t=[];if(r(document.getElementById("f2-autoload")),document.querySelectorAll&&(e(document.querySelectorAll("[data-f2-autoload]")),e(document.querySelectorAll(".f2-autoload"))),t.length){F2.init();for(var n=0,o=t.length;n<o;n++)F2.loadPlaceholders(t[n])}};"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?callback():document.addEventListener("DOMContentLoaded",callback),exports.F2=F2,"undefined"!=typeof define&&define.amd&&define(function(){return F2})}function Xh(){this._events={},this._conf&&Yh.call(this,this._conf)}function Yh(e){e&&((this._conf=e).delimiter&&(this.delimiter=e.delimiter),e.maxListeners&&(this._events.maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),this.wildcard&&(this.listenerTree={}))}function Zh(e){this._events={},this.newListener=!1,Yh.call(this,e)}function $h(e,t,n,r){if(!n)return[];var o,i,a,s,l,p,c,f=[],u=t.length,d=t[r],h=t[r+1];if(r===u&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(o=0,i=n._listeners.length;o<i;o++)e&&e.push(n._listeners[o]);return[n]}if("*"===d||"**"===d||n[d]){if("*"===d){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(f=f.concat($h(e,t,n[a],r+1)));return f}if("**"===d){for(a in(c=r+1===u||r+2===u&&"*"===h)&&n._listeners&&(f=f.concat($h(e,t,n,u))),n)"_listeners"!==a&&n.hasOwnProperty(a)&&(f="*"===a||"**"===a?(n[a]._listeners&&!c&&(f=f.concat($h(e,t,n[a],u))),f.concat($h(e,t,n[a],r))):a===h?f.concat($h(e,t,n[a],r+2)):f.concat($h(e,t,n[a],r)));return f}f=f.concat($h(e,t,n[d],r+1))}if((s=n["*"])&&$h(e,t,s,r+1),l=n["**"])if(r<u)for(a in l._listeners&&$h(e,t,l,u),l)"_listeners"!==a&&l.hasOwnProperty(a)&&(a===h?$h(e,t,l[a],r+2):a===d?$h(e,t,l[a],r+1):((p={})[a]=l[a],$h(e,t,{"**":p},r+1)));else l._listeners?$h(e,t,l,u):l["*"]&&l["*"]._listeners&&$h(e,t,l["*"],u);return f}function nj(e,t){return t=oj(t||""),e=oj(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+(n=t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname,r=[],n.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?r.pop():r.push(e)}),r.join("").replace(/^\//,"/"===n.charAt(0)?"/":""))+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null;var n,r}}("undefined"!=typeof exports?exports:window);
//# sourceMappingURL=f2.min.js.map